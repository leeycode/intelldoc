(window.webpackJsonp=window.webpackJsonp||[]).push([["antd.es.1suphtou~621989c9"],{"88ee":function(e,t,i){"use strict";var o=i("41b2"),n=i.n(o),s=i("2b0e"),u=i("46cf"),a=i.n(u),r=i("4d91"),p=i("6bb4"),c=i("daa3"),l=i("d41d"),h=i("c8c6"),d=i("6a21"),m=i("f3dd"),f=i("cb7d"),v=i("b488"),b=i("7b05"),g=i("98d3");s.d.use(a.a,{name:"ant-ref"});var T=["click","mousedown","touchstart","mouseenter","mouseleave","focus","blur","contextmenu"];t.a={name:"Trigger",mixins:[v.a],props:{action:r.a.oneOfType([r.a.string,r.a.arrayOf(r.a.string)]).def([]),showAction:r.a.any.def([]),hideAction:r.a.any.def([]),getPopupClassNameFromAlign:r.a.any.def((function(){return""})),afterPopupVisibleChange:r.a.func.def(f.c),popup:r.a.any,popupStyle:r.a.object.def((function(){return{}})),prefixCls:r.a.string.def("rc-trigger-popup"),popupClassName:r.a.string.def(""),popupPlacement:r.a.string,builtinPlacements:r.a.object,popupTransitionName:r.a.oneOfType([r.a.string,r.a.object]),popupAnimation:r.a.any,mouseEnterDelay:r.a.number.def(0),mouseLeaveDelay:r.a.number.def(.1),zIndex:r.a.number,focusDelay:r.a.number.def(0),blurDelay:r.a.number.def(.15),getPopupContainer:r.a.func,getDocument:r.a.func.def((function(){return window.document})),forceRender:r.a.bool,destroyPopupOnHide:r.a.bool.def(!1),mask:r.a.bool.def(!1),maskClosable:r.a.bool.def(!0),popupAlign:r.a.object.def((function(){return{}})),popupVisible:r.a.bool,defaultPopupVisible:r.a.bool.def(!1),maskTransitionName:r.a.oneOfType([r.a.string,r.a.object]),maskAnimation:r.a.string,stretch:r.a.string,alignPoint:r.a.bool},provide:function(){return{vcTriggerContext:this}},inject:{vcTriggerContext:{default:function(){return{}}},savePopupRef:{default:function(){return f.c}},dialogContext:{default:function(){return null}}},data:function(){var e=this,t=this.$props,i=void 0;return i=Object(c.s)(this,"popupVisible")?!!t.popupVisible:!!t.defaultPopupVisible,T.forEach((function(t){e["fire"+t]=function(i){e.fireEvents(t,i)}})),{prevPopupVisible:i,sPopupVisible:i,point:null}},watch:{popupVisible:function(e){void 0!==e&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=e)}},deactivated:function(){this.setPopupVisible(!1)},mounted:function(){var e=this;this.$nextTick((function(){e.renderComponent(null),e.updatedCal()}))},updated:function(){var e=this;this.renderComponent(null,(function(){e.sPopupVisible!==e.prevPopupVisible&&e.afterPopupVisibleChange(e.sPopupVisible),e.prevPopupVisible=e.sPopupVisible})),this.$nextTick((function(){e.updatedCal()}))},beforeDestroy:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout)},methods:{updatedCal:function(){var e=this.$props;if(this.$data.sPopupVisible){var t=void 0;this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextmenuToShow()||(t=e.getDocument(),this.clickOutsideHandler=Object(h.a)(t,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(t=t||e.getDocument(),this.touchOutsideHandler=Object(h.a)(t,"touchstart",this.onDocumentClick)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(t=t||e.getDocument(),this.contextmenuOutsideHandler1=Object(h.a)(t,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=Object(h.a)(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter:function(e){var t=this.$props.mouseEnterDelay;this.fireEvents("mouseenter",e),this.delaySetPopupVisible(!0,t,t?null:e)},onMouseMove:function(e){this.fireEvents("mousemove",e),this.setPoint(e)},onMouseleave:function(e){this.fireEvents("mouseleave",e),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter:function(){this.clearDelayTimer()},onPopupMouseleave:function(e){e&&e.relatedTarget&&!e.relatedTarget.setTimeout&&this._component&&this._component.getPopupDomNode&&Object(p.a)(this._component.getPopupDomNode(),e.relatedTarget)||this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onFocus:function(e){this.fireEvents("focus",e),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown:function(e){this.fireEvents("mousedown",e),this.preClickTime=Date.now()},onTouchstart:function(e){this.fireEvents("touchstart",e),this.preTouchTime=Date.now()},onBlur:function(e){Object(p.a)(e.target,e.relatedTarget||document.activeElement)||(this.fireEvents("blur",e),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu:function(e){e.preventDefault(),this.fireEvents("contextmenu",e),this.setPopupVisible(!0,e)},onContextmenuClose:function(){this.isContextmenuToShow()&&this.close()},onClick:function(e){if(this.fireEvents("click",e),this.focusTime){var t=void 0;if(this.preClickTime&&this.preTouchTime?t=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?t=this.preClickTime:this.preTouchTime&&(t=this.preTouchTime),Math.abs(t-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault(),e&&e.domEvent&&e.domEvent.preventDefault();var i=!this.$data.sPopupVisible;(this.isClickToHide()&&!i||i&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,e)},onPopupMouseDown:function(){var e=this,t=this.vcTriggerContext,i=void 0===t?{}:t;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout((function(){e.hasPopupMouseDown=!1}),0),i.onPopupMouseDown&&i.onPopupMouseDown.apply(i,arguments)},onDocumentClick:function(e){if(!this.$props.mask||this.$props.maskClosable){var t=e.target,i=this.$el;Object(p.a)(i,t)||this.hasPopupMouseDown||this.close()}},getPopupDomNode:function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null},getRootDomNode:function(){return this.$el},handleGetPopupClassFromAlign:function(e){var t=[],i=this.$props,o=i.popupPlacement,n=i.builtinPlacements,s=i.prefixCls,u=i.alignPoint,a=i.getPopupClassNameFromAlign;return o&&n&&t.push(Object(f.b)(n,s,e,u)),a&&t.push(a(e)),t.join(" ")},getPopupAlign:function(){var e=this.$props,t=e.popupPlacement,i=e.popupAlign,o=e.builtinPlacements;return t&&o?Object(f.a)(o,t,i):i},savePopup:function(e){this._component=e,this.savePopupRef(e)},getComponent:function(){var e=this.$createElement,t={};this.isMouseEnterToShow()&&(t.mouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(t.mouseleave=this.onPopupMouseleave),t.mousedown=this.onPopupMouseDown,t.touchstart=this.onPopupMouseDown;var i=this.handleGetPopupClassFromAlign,o=this.getRootDomNode,s=this.getContainer,u=this.$props,a=u.prefixCls,r=u.destroyPopupOnHide,p=u.popupClassName,l=u.action,h=u.popupAnimation,d=u.popupTransitionName,v=u.popupStyle,b=u.mask,g=u.maskAnimation,T=u.maskTransitionName,O=u.zIndex,C=u.stretch,P=u.alignPoint,w=this.$data,x=w.sPopupVisible,k=w.point,D={props:{prefixCls:a,destroyPopupOnHide:r,visible:x,point:P&&k,action:l,align:this.getPopupAlign(),animation:h,getClassNameFromAlign:i,stretch:C,getRootDomNode:o,mask:b,zIndex:O,transitionName:d,maskAnimation:g,maskTransitionName:T,getContainer:s,popupClassName:p,popupStyle:v},on:n()({align:Object(c.k)(this).popupAlign||f.c},t),directives:[{name:"ant-ref",value:this.savePopup}]};return e(m.a,D,[Object(c.g)(this,"popup")])},getContainer:function(){var e=this.$props,t=this.dialogContext,i=document.createElement("div");return i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.width="100%",(e.getPopupContainer?e.getPopupContainer(this.$el,t):e.getDocument().body).appendChild(i),this.popupContainer=i,i},setPopupVisible:function(e,t){var i=this.alignPoint,o=this.sPopupVisible;if(this.clearDelayTimer(),o!==e){Object(c.s)(this,"popupVisible")||this.setState({sPopupVisible:e,prevPopupVisible:o});var n=Object(c.k)(this);n.popupVisibleChange&&n.popupVisibleChange(e)}i&&t&&this.setPoint(t)},setPoint:function(e){this.$props.alignPoint&&e&&this.setState({point:{pageX:e.pageX,pageY:e.pageY}})},delaySetPopupVisible:function(e,t,i){var o=this,n=1e3*t;if(this.clearDelayTimer(),n){var s=i?{pageX:i.pageX,pageY:i.pageY}:null;this.delayTimer=Object(l.b)((function(){o.setPopupVisible(e,s),o.clearDelayTimer()}),n)}else this.setPopupVisible(e,i)},clearDelayTimer:function(){this.delayTimer&&(Object(l.a)(this.delayTimer),this.delayTimer=null)},clearOutsideHandler:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains:function(e){var t=function(){},i=Object(c.k)(this);return this.childOriginEvents[e]&&i[e]?this["fire"+e]:t=this.childOriginEvents[e]||i[e]||t},isClickToShow:function(){var e=this.$props,t=e.action,i=e.showAction;return-1!==t.indexOf("click")||-1!==i.indexOf("click")},isContextmenuToShow:function(){var e=this.$props,t=e.action,i=e.showAction;return-1!==t.indexOf("contextmenu")||-1!==i.indexOf("contextmenu")},isClickToHide:function(){var e=this.$props,t=e.action,i=e.hideAction;return-1!==t.indexOf("click")||-1!==i.indexOf("click")},isMouseEnterToShow:function(){var e=this.$props,t=e.action,i=e.showAction;return-1!==t.indexOf("hover")||-1!==i.indexOf("mouseenter")},isMouseLeaveToHide:function(){var e=this.$props,t=e.action,i=e.hideAction;return-1!==t.indexOf("hover")||-1!==i.indexOf("mouseleave")},isFocusToShow:function(){var e=this.$props,t=e.action,i=e.showAction;return-1!==t.indexOf("focus")||-1!==i.indexOf("focus")},isBlurToHide:function(){var e=this.$props,t=e.action,i=e.hideAction;return-1!==t.indexOf("focus")||-1!==i.indexOf("blur")},forcePopupAlign:function(){this.$data.sPopupVisible&&this._component&&this._component.$refs.alignInstance&&this._component.$refs.alignInstance.forceAlign()},fireEvents:function(e,t){this.childOriginEvents[e]&&this.childOriginEvents[e](t),this.__emit(e,t)},close:function(){this.setPopupVisible(!1)}},render:function(){var e=this,t=arguments[0],i=this.sPopupVisible,o=Object(c.c)(this.$slots.default),n=this.$props,s=n.forceRender,u=n.alignPoint;o.length>1&&Object(d.a)(!1,"Trigger $slots.default.length > 1, just support only one default",!0);var a=o[0];this.childOriginEvents=Object(c.h)(a);var r={props:{},nativeOn:{},key:"trigger"};return this.isContextmenuToShow()?r.nativeOn.contextmenu=this.onContextmenu:r.nativeOn.contextmenu=this.createTwoChains("contextmenu"),this.isClickToHide()||this.isClickToShow()?(r.nativeOn.click=this.onClick,r.nativeOn.mousedown=this.onMousedown,r.nativeOn.touchstart=this.onTouchstart):(r.nativeOn.click=this.createTwoChains("click"),r.nativeOn.mousedown=this.createTwoChains("mousedown"),r.nativeOn.touchstart=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(r.nativeOn.mouseenter=this.onMouseenter,u&&(r.nativeOn.mousemove=this.onMouseMove)):r.nativeOn.mouseenter=this.createTwoChains("mouseenter"),this.isMouseLeaveToHide()?r.nativeOn.mouseleave=this.onMouseleave:r.nativeOn.mouseleave=this.createTwoChains("mouseleave"),this.isFocusToShow()||this.isBlurToHide()?(r.nativeOn.focus=this.onFocus,r.nativeOn.blur=this.onBlur):(r.nativeOn.focus=this.createTwoChains("focus"),r.nativeOn.blur=function(t){!t||t.relatedTarget&&Object(p.a)(t.target,t.relatedTarget)||e.createTwoChains("blur")(t)}),this.trigger=Object(b.a)(a,r),t(g.a,{attrs:{parent:this,visible:i,autoMount:!1,forceRender:s,getComponent:this.getComponent,getContainer:this.getContainer,children:function(t){var i=t.renderComponent;return e.renderComponent=i,e.trigger}}})}}}}]);